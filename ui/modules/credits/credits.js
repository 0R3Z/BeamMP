angular.module('beamng.stuff')

/**
 * @ngdoc object
 * @name beamng.stuff:Contributors
 * @description Everyone & everything who has contributed to BeamNG.drive
**/
.constant('Contributors', [
  { translateId: 'ui.credits.programmers',
    members: [
      {first: 'Thomas',       last: 'Fischer',           aka: 'tdev'},
      {first: 'Lefteris',     last: 'Stamatogiannakis',  aka: 'estama'},
      {first: 'Luis',         last: 'Anton Rebollo',     aka: 'Souga'},
      {first: 'Bruno',        last: 'Gonzalez',          aka: 'stenyak'},
      {first: 'Andrew',       last: 'Kabakwu',           aka: ''},
      {first: 'Fabian',       last: 'Enkler',            aka: ''},
      {first: 'Timo',         last: 'Stabbert',          aka: ''},
      {first: 'Nour',         last: 'Mohamed',           aka: ''},
      {first: 'Ludger',       last: 'Meyer-Wülfing',     aka: 'meywue'},
      {first: 'Thomas',       last: 'Portassau',         aka: 'thomatoes50'},
      {first: 'Felix',        last: 'Unger',             aka: ''},
      {first: 'Nicusor',      last: 'Nedelcu',           aka: ''},
      {first: 'Elmar',        last: 'Berghöfer',         aka: ''},
      {first: 'Thomas',       last: 'Wilczynski',        aka: 'Gamergull'},
      {first: 'Adam',         last: 'Percival',          aka: 'Stoat Muldoon'},
      {first: 'James',        last: 'Heslop',            aka: 'Krallopian'},
      {first: 'Marc',         last: 'Müller',            aka: 'Palculator'},
	  {first: 'Petros',       last: 'Kondylis',          aka: ''}
    ]
  },

  { translateId: 'ui.credits.vehicleDesigners',
    members: [
      {first: 'Gabe',          last: 'Fink',       aka: 'gabester'},
      {first: 'Mitchell',      last: 'Sahl',       aka: 'B25Mitch'},
      {first: 'Corey',         last: 'Bergerud',   aka: 'Goosah'},
      {first: 'Alexandr',      last: 'Shesternin', aka: ''},
      {first: 'Jared',         last: 'Samuelson',  aka: ''},
	  {first: 'Dennis',        last: 'Mateja',  aka: 'NinetyNine'}
    ]
  },

  { translateId: 'ui.credits.environmentArtists',
    members: [
      {first: 'Sam',         last: 'Hutchinson',     aka: 'LJFHutch'},
      {first: 'Christin',    last: 'Walther',        aka: ''},
      {first: 'Luca',        last: 'Brighi',         aka: ''},
      {first: 'Sebastien',   last: 'Pelletier',      aka: ''}
    ]
  },

   { translateId: 'ui.credits.conceptArtists2D',
    members: [
      {first: 'Mary Jane',   last: 'Pajaron',        aka: ''}
    ]
  },

  { translateId: 'ui.credits.organization',
    members: [
      {first: 'Saskia',       last: 'Opitz',        aka: ''},
      {first: 'Christoforos', last: 'Lambrianidis', aka: ''},
      {first: 'Arend',        last: 'Stührmann',    aka: 'MrGantt'},
	  {first: 'Özgen',        last: 'Saatçilar',    aka: ''}
    ]
  },

  { translateId: 'ui.credits.qa',
    members: [
      {first: 'Colin',        last: 'Wenz',         aka: 'synsol'}
    ]
  },

  { translateId: 'ui.credits.ui',
    members: [
      {first: 'George',      last: 'Troulitakis',    aka: ''}
    ]
  },

  { translateId: 'ui.credits.sound',
    members: [
      {first: 'Sebastian',      last: 'Emling',    aka: ''},
      {first: 'Mark',           last: 'Knight',    aka: 'TDK'}
    ]
  },

  { translateId: 'ui.credits.sysops',
    members: [
      {first: 'Charalampos',      last: 'Tsipizidis',    aka: ''}
    ]
  },

  { translateId: 'ui.credits.customerSupport',
    members: [
      {first: 'Ananda Neelam', last: 'Thathayya',  aka: 'Nadeox1'}
    ]
  },

  { translateId: 'ui.credits.ourAwesomeCommunity',
    members: [
      {first: 'Richard',  last: 'Sixsmith',    aka: 'Metalmuncher'},
      {first: 'Tom',      last: 'Verhoeve',    aka: 'Mythbuster'},
      {first: 'Sergy',    last: 'Karpowicz',   aka: '0xsergy'},
      {first: 'Dustin',   last: 'Kutchara',    aka: 'dkutch'},
      {first: 'Matti',    last: 'Yrjänheikki', aka: 'Masa'},
      {first: 'Daniel',   last: 'Jones',       aka: 'daniel_j'},
      {first: 'Dennis',   last: 'Wrekenhorst', aka: 'Dennis-W'},
      {first: 'Sven',     last: 'Nabeck',      aka: 'sputnik_1'},
      {first: 'Yannis',   last: 'Vaiopoulos',  aka: 'JohnV'},
      {first: 'Kristian', last: 'Fagerland',   aka: ''},
	  {first: '',         last: '',            aka: 'Fufsgfen'}
    ]
  },

  { translateId: 'ui.credits.specialThanksTo',
    members: [
      {first: 'Pierre-Michel',   last: 'Ricordel',     aka: 'pricorde'},
	  {first: ' ',               last: ' ',            aka: ''},
      {first: 'Mayowa David',    last: 'Abogunrin',    aka: ''},
	  {first: 'Kemisola',        last: 'Adeniyi',      aka: ''},
	  {first: 'Carlos',          last: 'Bergillos',  aka: 'CarlosAir'},
	  {first: 'Winston',         last: 'Broderick',    aka: ''},
	  {first: 'Vasilis',         last: 'Douvaras',     aka: 'Vaasik'},
	  {first: 'Eike',            last: 'Externest',    aka: ''},
	  {first: 'Boluwatife',      last: 'Falaye',       aka: ''},
	  {first: 'Paul',            last: 'Görs',         aka: ''},
	  {first: 'Yale',            last: 'Hartmann',     aka: ''},
	  {first: 'Jan Niklas',      last: 'Hasse',        aka: ''},
	  {first: 'Jali',            last: 'Hautala',      aka: 'Jalkku'},
	  {first: 'Mikko',           last: 'Lesonen',      aka: ''},
	  {first: 'Theodoros',       last: 'Manouilidis',  aka: ''},
	  {first: 'Hala',            last: 'Mahmoud',      aka: ''},
	  {first: 'Safdar',          last: 'Mahmood',      aka: ''},
	  {first: 'Pascale',         last: 'Maul',         aka: ''},
	  {first: 'Juan',            last: 'Mendes',       aka: ''},
	  {first: 'Barend van der',  last: 'Meulen',       aka: ''},
	  {first: 'Sam',             last: 'Millington',   aka: 'DrowsySam'},
	  {first: 'Jukka',           last: 'Muikkula',     aka: 'Miura'},
	  {first: 'Moses',           last: 'Mulinge',      aka: ''},
	  {first: 'Matthias',        last: 'Niebergall',   aka: ''},
	  {first: 'Janne',           last: 'Nummela',      aka: ''},
	  {first: 'Ben',             last: 'Payne',        aka: ''},
	  {first: 'Brandon',         last: 'Proulx',       aka: 'Hondune'},
	  {first: 'Rajinder',        last: '',             aka: ''},
	  {first: 'Max',             last: 'Razer',        aka: ''},
	  {first: 'Justin',          last: 'Roczniak',     aka: 'Donoteat'},
	  {first: 'Clément',         last: 'Roche',             aka: ''},
	  {first: 'Edelmar',         last: 'Schneider',    aka: ''},
	  {first: 'Harm',            last: 'Schulz',       aka: ''},
	  {first: 'Giorgos',         last: 'Siantikos',    aka: 'gntikos'},
	  {first: 'Konstantinos',    last: 'Stamou',       aka: ''},
	  {first: 'Lisa',            last: 'Steinberg',    aka: ''},
	  {first: 'Aaron',           last: 'Sutcliffe',    aka: ''},
	  {first: 'Renju',           last: 'Therakathu',   aka: ''},
      {first: 'David',           last: 'Thurlbeck',    aka: ''},
	  {first: 'Anisa',           last: 'Utami ',       aka: ''},
      {first: 'Mirco',           last: 'Weigel',       aka: 'theshark'},
      {first: 'Xiaoyi',          last: 'Wang',         aka: ''},
      {first: 'Matti',           last: 'Yrjänheikki',  aka: 'Masa'},
      {first: 'Moncef',          last: 'Slimane',      aka: ''},
      {first: 'Marc',            last: 'Vince',        aka: ''},
      {first: 'Svetlozar',       last: 'Valchev',      aka: ''},
      {first: 'Sebastian',       last: 'Wessel',       aka: ''},
      {first: 'Waldemar',        last: 'Zeitler',      aka: ''}
    ]
  },

    { translateId: 'ui.credits.soundtrack',
    members: [
      {first: 'Mark Knight', last: 'Copyright 2018', aka: 'Element No. 10'},
      {first: 'Mark Knight', last: 'Copyright 2018', aka: 'Getting Away'},
      {first: 'Mark Knight', last: 'Copyright 2018', aka: 'Juno Rocks'},
      {first: 'Mark Knight', last: 'Copyright 2018', aka: 'Neon Night Racer'},
      {first: 'Mark Knight', last: 'Copyright 2018', aka: 'Night Driver'}
    ]
  },

  { translateId: 'ui.credits.madePossibleWith',
    members: [
      {first: 'fmod',                        last: '', aka: ''},
      {first: 'LuaJIT',                      last: '', aka: ''},
      {first: 'lua-intf, LuaBridge',         last: '', aka: ''},
      {first: 'Chromium Embedded Framework', last: '', aka: ''},
      {first: 'AngularJS',                   last: '', aka: ''},
      {first: 'Material Design',             last: '', aka: ''},
      {first: 'LuaSocket',                   last: '', aka: ''}
    ]
  }
])

/**
 * @ngdoc controller
 * @name beamng.stuff:CreditsController
 * @requires logger
 * @requires $scope
 * @requires $state
 * @requires beamng.stuff:Contributors
 *
 * @description
 * Basic controller for the credits scene
**/
.controller('CreditsController', ['logger', '$scope', '$state', '$timeout', 'bngApi', 'Contributors',
function(logger, $scope, $state, $timeout, bngApi, Contributors) {
  document.getElementById('bng-credits-wrapper').focus();
  bngApi.engineScript('hideCursor();');

  var vm = this;
  vm.contributors = Contributors;

  vm.exit = function ($event) {
    if ($event)
      logger.debug('[CreditsController] exiting by keypress event %o', $event);
    $state.go('menu.mainmenu');
  };

  document.getElementsByClassName('bng-credits-end')[0].addEventListener('webkitAnimationEnd', function() {
      vm.timeOutPromise = $timeout(function() {
        vm.exit();
      }, 4000);
    });

  $scope.$on('$destroy', function () {
    logger.debug('[CreditsController] destroyed. Clearing timeout %o', vm.timeOutPromise);
    $timeout.cancel(vm.timeOutPromise);
    bngApi.engineScript('showCursor();');
  });
}]);
